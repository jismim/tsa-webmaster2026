/* ============================================================
   CAREMAP MORRIS — Directory Page Styles
   Requires: style.css loaded first (provides --bg, --panel,
   --text, --muted, --accent, --line, --radius, --shadow)
============================================================ */

/* ── Page hero ── */
.dir-hero { padding: 48px 0 28px; }
.dir-hero h1 {
  font-size: clamp(28px, 4vw, 44px);
  margin: 0 0 10px;
}
.dir-hero .subtitle {
  color: var(--muted);
  font-size: 1.05rem;
  margin: 0;
}

/* ── Cards section ── */
.dir-section { padding: 8px 0 64px; }

.resource-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  margin-top: 8px;
}

/* ── Resource card ── */
.res-card {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  cursor: pointer;
  transition: transform 0.22s ease, box-shadow 0.22s ease;
  animation: fadeUp 0.4s ease both;
}
.res-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 20px 40px rgba(0,0,0,0.11);
}
.res-card:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 3px;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(16px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* staggered entry delays */
.res-card:nth-child(1)   { animation-delay: 0.04s; }
.res-card:nth-child(2)   { animation-delay: 0.08s; }
.res-card:nth-child(3)   { animation-delay: 0.12s; }
.res-card:nth-child(4)   { animation-delay: 0.16s; }
.res-card:nth-child(5)   { animation-delay: 0.20s; }
.res-card:nth-child(6)   { animation-delay: 0.24s; }
.res-card:nth-child(7)   { animation-delay: 0.28s; }
.res-card:nth-child(8)   { animation-delay: 0.32s; }
.res-card:nth-child(9)   { animation-delay: 0.36s; }
.res-card:nth-child(n+10){ animation-delay: 0.40s; }

.res-card-body {
  padding: 18px 18px 12px;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* ── Category badge ── */
.res-badge {
  display: inline-flex;
  align-items: center;
  font-size: 0.74rem;
  font-weight: 700;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  padding: 4px 11px;
  border-radius: 999px;
  border: 1px solid;
  width: fit-content;
  margin-bottom: 4px;
}

/* Badge colour variants */
.badge-food             { background:#FFF4E5; color:#A0520A; border-color:#F5C87A; }
.badge-housing          { background:#E9F5EE; color:#1A6B38; border-color:#7DC89A; }
.badge-domestic-violence{ background:#FDE9E9; color:#9B2020; border-color:#F0A0A0; }
.badge-mental-health    { background:#EAF0FB; color:#1A3B8B; border-color:#92B4E8; }
.badge-substance-use    { background:#F1EAF9; color:#5A2080; border-color:#C0A0E0; }
.badge-health           { background:#E5F7F2; color:#0D5C45; border-color:#70C4A8; }
.badge-legal            { background:#FDF5E0; color:#7A5800; border-color:#D4B84A; }
.badge-disability       { background:#E5F0F7; color:#0D3E6B; border-color:#70A8D4; }
.badge-youth            { background:#FFF0E5; color:#7A3010; border-color:#E8A070; }
.badge-senior           { background:#EDF5E5; color:#3A5C1A; border-color:#9ACA70; }
.badge-employment       { background:#E5EFF7; color:#1A4A6B; border-color:#70A0C4; }
.badge-education        { background:#F5E5F7; color:#5A1A6B; border-color:#C070D4; }
.badge-social-services  { background:#F7EDE5; color:#6B2A1A; border-color:#D49070; }

/* ── Card inner content ── */
.res-card-title {
  font-size: 1.05rem;
  font-weight: 700;
  margin: 0;
  line-height: 1.3;
  color: var(--text);
}

.res-card-location {
  font-size: 0.82rem;
  color: var(--muted);
  display: flex;
  align-items: center;
  gap: 4px;
  margin: 0;
}

.res-card-desc {
  font-size: 0.88rem;
  color: var(--muted);
  line-height: 1.55;
  margin: 4px 0 0;
  flex: 1;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.res-card-tags {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  margin-top: 10px;
}
.res-tag {
  font-size: 0.78rem;
  padding: 4px 10px;
  border-radius: 999px;
  background: rgba(229, 198, 135, 0.18);
  border: 1px solid rgba(229, 198, 135, 0.6);
  color: var(--muted);
}

.res-card-footer {
  padding: 12px 18px 16px;
  border-top: 1px solid var(--line);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.res-card-phone {
  font-size: 0.8rem;
  color: var(--muted);
}

.res-expand-btn {
  background: var(--accent);
  color: #fff;
  border: none;
  border-radius: 999px;
  padding: 7px 16px;
  font-size: 0.82rem;
  font-weight: 600;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 5px;
  transition: background 0.18s, transform 0.18s;
  flex-shrink: 0;
}
.res-expand-btn:hover          { background: #076d3e; }
.res-card:hover .res-expand-btn { transform: translateX(2px); }

/* ============================================================
   DETAIL MODAL
============================================================ */
.detail-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.50);
  z-index: 200;
  backdrop-filter: blur(5px);
  animation: bdin 0.2s ease;
}
.detail-backdrop[hidden] { display: none; }

.detail-modal-wrap {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  padding: 18px;
  z-index: 201;
}
.detail-modal-wrap[hidden] { display: none; }

.detail-card {
  width: min(700px, 100%);
  max-height: 88vh;
  overflow-y: auto;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: 0 32px 72px rgba(0,0,0,0.18);
  animation: popIn 0.28s cubic-bezier(0.22, 0.68, 0, 1.2);
  scrollbar-width: thin;
  scrollbar-color: rgba(0,0,0,0.12) transparent;
}

@keyframes bdin  { from { opacity: 0; } to { opacity: 1; } }
@keyframes popIn {
  from { opacity: 0; transform: scale(0.94) translateY(18px); }
  to   { opacity: 1; transform: scale(1)    translateY(0); }
}

/* Sticky modal header */
.detail-head {
  padding: 22px 24px 16px;
  border-bottom: 1px solid var(--line);
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  position: sticky;
  top: 0;
  background: var(--panel);
  z-index: 1;
  border-radius: var(--radius) var(--radius) 0 0;
}
.detail-head-left { display: flex; flex-direction: column; gap: 8px; }

.detail-title {
  font-size: clamp(1.15rem, 2.5vw, 1.4rem);
  font-weight: 800;
  margin: 0;
  line-height: 1.25;
  color: var(--text);
}

.detail-close {
  background: rgba(0,0,0,0.05);
  border: 1px solid var(--line);
  border-radius: 50%;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 0.95rem;
  color: var(--muted);
  flex-shrink: 0;
  transition: background 0.15s, color 0.15s;
}
.detail-close:hover { background: rgba(0,0,0,0.09); color: var(--text); }

/* Modal body */
.detail-body { padding: 22px 24px 10px; }

.detail-section { margin-bottom: 22px; }

.detail-section-label {
  font-size: 0.72rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--accent);
  margin: 0 0 9px;
}

.detail-long-desc {
  font-size: 0.95rem;
  line-height: 1.72;
  color: #3A3828;
  margin: 0;
}

/* 2-column info grid */
.detail-info-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
.detail-info-item {
  background: rgba(229,198,135,0.10);
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 12px 14px;
}
.detail-info-label {
  font-size: 0.70rem;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--muted);
  margin: 0 0 4px;
}
.detail-info-value {
  font-size: 0.88rem;
  font-weight: 500;
  color: var(--text);
  margin: 0;
  line-height: 1.4;
}
.detail-info-value a {
  color: var(--accent);
  text-decoration: underline;
  word-break: break-all;
}

.detail-tags { display: flex; gap: 6px; flex-wrap: wrap; }

/* Modal footer actions */
.detail-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  padding: 16px 24px 22px;
  border-top: 1px solid var(--line);
  margin-top: 4px;
}

/* ============================================================
   RESPONSIVE
============================================================ */
@media (max-width: 900px) {
  .resource-grid    { grid-template-columns: repeat(2, 1fr); }
  .detail-info-grid { grid-template-columns: 1fr; }
}
@media (max-width: 560px) {
  .resource-grid  { grid-template-columns: 1fr; }
  .detail-head    { padding: 16px 16px 14px; }
  .detail-body    { padding: 16px 16px 6px; }
  .detail-actions { padding: 14px 16px 18px; }
}